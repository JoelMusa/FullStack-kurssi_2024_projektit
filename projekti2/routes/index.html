<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <title>API Frontend</title>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="40"
          height="40"
          fill="currentColor"
          class="bi bi-bucket"
          viewBox="0 0 16 16"
        >
          <path
            d="M2.522 5H2a.5.5 0 0 0-.494.574l1.372 9.149A1.5 1.5 0 0 0 4.36 16h7.278a1.5 1.5 0 0 0 1.483-1.277l1.373-9.149A.5.5 0 0 0 14 5h-.522A5.5 5.5 0 0 0 2.522 5m1.005 0a4.5 4.5 0 0 1 8.945 0zm9.892 1-1.286 8.574a.5.5 0 0 1-.494.426H4.36a.5.5 0 0 1-.494-.426L2.58 6h10.838z"
          />
        </svg>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="#">readAll</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">readOne</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">createOne</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">updateOne</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">deleteOne</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <button onclick="renderItems()">getAll</button>
    <ul id="itemList">
      <!-- Database collection will be dynamically inserted here -->
    </ul>

    <button onclick="renderOneItem()">getOne</button>
    <ul id="oneItem">
      <!-- Single document from a collection will be dynamically inserted here-->
    </ul>
    <button onclick="renderItems()">getAll</button>
    <button onclick="renderItems()">getAll</button>
    <button onclick="renderItems()">getAll</button>
    <h1>Items</h1>

    <script>
      // Function to fetch one document from the API
      async function getItemById(id) {
        try {
          const response = await fetch("/api/getItemById/${id}");
          const data = await response.json();
          return data;
        } catch (error) {
          console.error("document with " + id + "not found ", error);
        }
      }

      // Function to render items on the page
      async function renderOneItem() {
        const itemList = document.getElementById("oneItem");
        const item = await getItemById("61d09b0796e301634636fba");

        // Clear existing items
        itemList.innerHTML = item;

        // Render each item
        /*item.forEach((item) => {
          const listItem = document.createElement("li");
          listItem.textContent = item.name; // Assuming each item has a 'name' property
          itemList.appendChild(listItem);
        });*/
      }

      // Function to fetch all items from the API
      async function getAllItems() {
        try {
          const response = await fetch("/api/getall");
          const data = await response.json();
          return data;
        } catch (error) {
          console.error("Error fetching documents:", error);
        }
      }

      // Function to render items on the page
      async function renderItems() {
        const itemList = document.getElementById("itemList");
        const items = await getAllItems();

        // Clear existing items
        itemList.innerHTML = "";

        // Render each item
        items.forEach((item) => {
          const listItem = document.createElement("li");
          listItem.textContent = item.name; // Assuming each item has a 'name' property
          itemList.appendChild(listItem);
        });
      }
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
